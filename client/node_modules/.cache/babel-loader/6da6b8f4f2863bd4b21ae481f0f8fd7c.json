{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/study-projects/clothing-store/src/pages/shop/shop.components.jsx\";\nimport React from 'react';\nimport { Route } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport CollectionsOverviewContainer from \"../../components/collections-overview/collections-overview.container\";\nimport CollectionPageContainer from \"../collection/collection.container\"; // import {firestore, convertCollectionsSnapshotToMap} from \"../../firebase/firebase.utils\";\n\nimport { fetchCollectionsStartAsync } from \"../../redux/shop/shop.actions\";\n\nclass ShopPage extends React.Component {\n  componentDidMount() {\n    const {\n      fetchCollectionsStartAsync\n    } = this.props;\n    fetchCollectionsStartAsync(); // const collectionRef = firestore.collection('collections');\n\n    /* OBSERVABLE PATTERN */\n    // this.unsubscribeFromSnapshot = collectionRef.onSnapshot(async snapshot => {\n    //  const collectionsMap = convertCollectionsSnapshotToMap(snapshot);\n    //  // console.log(collectionsMap);\n    //   updateCollections(collectionsMap);\n    //  this.setState({loading: false})\n    // })\n\n    /* API Call pattern */\n    // fetch(\"https://firestore.googleapis.com/v1/projects/clothing-store-bdf48/databases/(default)/documents/collections\")\n    //   .then(response => response.json())\n    //   .then(collections => console.log(collections))\n    //\n\n    /* promise pattern */\n    // collectionRef.get().then(snapshot => {\n    //   const collectionsMap = convertCollectionsSnapshotToMap(snapshot);\n    //   updateCollections(collectionsMap);\n    //   this.setState({loading: false})\n    // })\n  }\n\n  render() {\n    const {\n      match\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: `${match.path}`,\n      component: CollectionsOverviewContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${match.path}/:collectionId`,\n      component: CollectionPageContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => ({\n  fetchCollectionsStartAsync: () => dispatch(fetchCollectionsStartAsync())\n});\n\nexport default connect(null, mapDispatchToProps)(ShopPage);","map":{"version":3,"sources":["/Users/mac/Documents/study-projects/clothing-store/src/pages/shop/shop.components.jsx"],"names":["React","Route","connect","CollectionsOverviewContainer","CollectionPageContainer","fetchCollectionsStartAsync","ShopPage","Component","componentDidMount","props","render","match","path","mapDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,QAAoB,kBAApB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AAEA,OAAOC,4BAAP,MAAyC,sEAAzC;AACA,OAAOC,uBAAP,MAAoC,oCAApC,C,CACA;;AACA,SAAQC,0BAAR,QAAyC,+BAAzC;;AAGA,MAAMC,QAAN,SAAuBN,KAAK,CAACO,SAA7B,CAAuC;AAErCC,EAAAA,iBAAiB,GAAG;AAClB,UAAM;AAACH,MAAAA;AAAD,QAA+B,KAAKI,KAA1C;AAEAJ,IAAAA,0BAA0B,GAHR,CAQlB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACD;;AAEDK,EAAAA,MAAM,GAAG;AACP,UAAM;AAACC,MAAAA;AAAD,QAAU,KAAKF,KAArB;AACA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,IAAI,EAAG,GAAEE,KAAK,CAACC,IAAK,EAFtB;AAGE,MAAA,SAAS,EAAET,4BAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAME,oBAAC,KAAD;AACE,MAAA,IAAI,EAAG,GAAEQ,KAAK,CAACC,IAAK,gBADtB;AAEE,MAAA,SAAS,EAAER,uBAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CADF;AAaD;;AAjDoC;;AAoDvC,MAAMS,kBAAkB,GAAGC,QAAQ,KAAK;AACrCT,EAAAA,0BAA0B,EAAE,MAAMS,QAAQ,CAACT,0BAA0B,EAA3B;AADL,CAAL,CAAnC;;AAIA,eAAeH,OAAO,CAAC,IAAD,EAAOW,kBAAP,CAAP,CAAkCP,QAAlC,CAAf","sourcesContent":["import React from 'react';\nimport {Route} from 'react-router-dom';\nimport {connect} from \"react-redux\";\n\nimport CollectionsOverviewContainer from \"../../components/collections-overview/collections-overview.container\";\nimport CollectionPageContainer from \"../collection/collection.container\";\n// import {firestore, convertCollectionsSnapshotToMap} from \"../../firebase/firebase.utils\";\nimport {fetchCollectionsStartAsync} from \"../../redux/shop/shop.actions\";\n\n\nclass ShopPage extends React.Component {\n  \n  componentDidMount() {\n    const {fetchCollectionsStartAsync} = this.props;\n    \n    fetchCollectionsStartAsync();\n    \n    \n    \n    \n    // const collectionRef = firestore.collection('collections');\n    \n    /* OBSERVABLE PATTERN */\n    // this.unsubscribeFromSnapshot = collectionRef.onSnapshot(async snapshot => {\n    //  const collectionsMap = convertCollectionsSnapshotToMap(snapshot);\n    //  // console.log(collectionsMap);\n    //   updateCollections(collectionsMap);\n    //  this.setState({loading: false})\n    // })\n    \n    /* API Call pattern */\n    // fetch(\"https://firestore.googleapis.com/v1/projects/clothing-store-bdf48/databases/(default)/documents/collections\")\n    //   .then(response => response.json())\n    //   .then(collections => console.log(collections))\n    //\n  \n    /* promise pattern */\n    // collectionRef.get().then(snapshot => {\n    //   const collectionsMap = convertCollectionsSnapshotToMap(snapshot);\n    //   updateCollections(collectionsMap);\n    //   this.setState({loading: false})\n    // })\n  }\n  \n  render() {\n    const {match} = this.props;\n    return (\n      <div>\n        <Route\n          exact\n          path={`${match.path}`}\n          component={CollectionsOverviewContainer}\n        />\n        <Route\n          path={`${match.path}/:collectionId`}\n          component={CollectionPageContainer}\n          />\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n   fetchCollectionsStartAsync: () => dispatch(fetchCollectionsStartAsync())\n});\n\nexport default connect(null, mapDispatchToProps)(ShopPage);"]},"metadata":{},"sourceType":"module"}